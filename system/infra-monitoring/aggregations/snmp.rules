groups:
- name: snmprules
  rules:
  - record: snmp_scrape_errors
    expr: count by (module, job) (up{job="snmp"} == 0)
  - record: snmp_scrape_failed_devices
    expr: {job="snmp", __name__=~"^(up)"} == 0
